// Room_Final.asc - Exterior de la casa, noche


function CutsceneFinal()
{
    StartCutscene(eSkipESCOnly);

    // ================= SECUENCIA 1: SALIR DE LA CASA =================
    cPaxton.Walk(317, 432, eBlock, eAnywhere);
    cPaxton.StopMoving();
    cPaxton.FaceDirection(eDirectionDown);
    cPaxton.Say("¡Por fin he conseguido salir!");
    Wait(10);

    cPaxton.Say("Nunca podré olvidar esto...");
    Wait(10);

    // Decisión final
    cPaxton.FaceDirection(eDirectionLeft);
    Wait(10);
    cPaxton.FaceDirection(eDirectionRight);
    Wait(10);
    cPaxton.FaceDirection(eDirectionDown);
    cPaxton.Say("Tengo que avisar a alguien...");
    Wait(10);
    cPaxton.Say("Pero... ¿quién me creerá?");
    Wait(10);

    // ================= SECUENCIA 2: DIÁLOGO INTERNO =================
    cPaxton.FaceDirection(eDirectionUp);
    cPaxton.Say("Barnes todavía está ahí dentro...");
    Wait(10);
    cPaxton.FaceDirection(eDirectionDown);
    cPaxton.Say("¿Pude haberla salvado?");
    Wait(10);
    cPaxton.Say("No, era imposible...");
    Wait(10);
    cPaxton.Say("Pero, ¿y si no?.");
    Wait(10);
    cPaxton.Say("Dios lo decidió así, así deberá ser...");
    Wait(10);
    cPaxton.Say("Si es que realmente existe...");
    Wait(10);

    // ================= SECUENCIA 3: CAMINAR =================
    
    cPaxton.FaceDirection(eDirectionDownRight);
    cPaxton.Say("Tengo que ir a casa. Lejos de aquí.");
    cPaxton.Walk(549, 443, eNoBlock, eAnywhere);
    Wait(10);

    cPaxton.StopMoving();
    cPaxton.FaceDirection(eDirectionUp);
    cPaxton.Say("Que Dios te ampare, hermana.");
    Wait(10);
    cPaxton.Say("Y que me perdone a mí.");
    Wait(10);
    //se sale de pantalla
    cPaxton.Walk(800, 443, eBlock, eAnywhere);
    
    // ================= SECUENCIA 4: FINAL =================
   // Fundido a negro para que resalte el texto
    
    Wait(10);

   
    // Usamos el comando .Write o .Say según la versión del módulo
    Typewriter.Type(290, 180, 2, 15, "Otoño, 2025.",eTypeWriter_Mixed );
    Wait(80);
    
    Typewriter.Type(200, 220, 2, 15, "Dos misioneras tocaron a la puerta...",eTypeWriter_Mixed );
    Wait(80);
    
    Typewriter.Type(280, 260, 2, 15, "Solo una salió...",eTypeWriter_Mixed);
    
    // Espera larga para que el jugador lea el mensaje final
    Wait(80);

    // Fade out final, esperar antes de cambiar room
    FadeOut(2);
    Wait(30);

    EndCutscene();

    // Cambiar de room
    player.ChangeRoom(7);

   
}


function after_fadein()
{
    // Ocultar GUI si quieres cinematic feel
    gGui1.Visible = false;

    // Música de fondo
    aPeaceful_nature_ambient_tranquil_sounds_326833_EndGame.Play();

    // Configuración de Paxton
    cPaxton.AnimationSpeed = 3;
    cPaxton.SetWalkSpeed(8, 8);
    cPaxton.x=372;
    cPaxton.y=342;
    
    
    CutsceneFinal();

 }





function room_FirstLoad()
{
cPaxton.x=372;
    cPaxton.y=342;
}
